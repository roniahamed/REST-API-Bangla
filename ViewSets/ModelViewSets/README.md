# Django REST Framework-ржП `ModelViewSet`

ржХрж▓рзНржкржирж╛ ржХрж░рзБржи, ржЖржкржирж╛ржХрзЗ ржПржХржЯрж┐ рж╕ржорзНржкрзВрж░рзНржг API рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣ржмрзЗ ржпрж╛ ржжрж┐рзЯрзЗ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░рж╛ ржмржЗрзЯрзЗрж░ рждржерзНржп ржжрзЗржЦрждрзЗ, ржирждрзБржи ржмржЗ ржпрзЛржЧ ржХрж░рждрзЗ, ржЖржкржбрзЗржЯ ржХрж░рждрзЗ ржПржмржВ ржорзБржЫрзЗ ржлрзЗрж▓рждрзЗ ржкрж╛рж░ржмрзЗред ржПржЗ рж╕ржмржЧрзБрж▓рзЛ ржХрж╛ржЬрзЗрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ ржЖрж▓рж╛ржжрж╛ ржнрж┐ржЙ рж▓рзЗржЦрж╛ ржмрзЗрж╢ рж╕ржорзЯрж╕рж╛ржкрзЗржХрзНрж╖ред

 ржПржЦрж╛ржирзЗржЗ Django REST Framework (DRF)-ржПрж░ ржорзНржпрж╛ржЬрж┐ржХ рж╢рзБрж░рзБ рж╣рзЯ, ржЖрж░ рж╕рзЗржЗ ржорзНржпрж╛ржЬрж┐ржХрзЗрж░ ржирж╛ржо рж╣рж▓рзЛ **`ModelViewSet`**ред

## `ModelViewSet` ржХрзА?

рж╕рж╣ржЬ ржнрж╛рж╖рж╛ржпрж╝, `ModelViewSet` рж╣рж▓рзЛ DRF-ржПрж░ ржПржХржЯрж┐ "рж╕рзБржЗрж╕ ржЖрж░рзНржорж┐ ржирж╛ржЗржл"ред ржПржЯрж┐ ржПржоржи ржПржХржЯрж┐ ржХрзНрж▓рж╛рж╕ ржпрж╛ ржПржХржЯрж┐ Django ржоржбрзЗрж▓рзЗрж░ ржЬржирзНржп рж╕ржорзНржкрзВрж░рзНржг CRUD (Create, Read, Update, Delete) ржХрж╛рж░рзНржпржХрж╛рж░рж┐рждрж╛ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ рждрзИрж░рж┐ ржХрж░рзЗ ржжрзЗржпрж╝ред ржЖржкржирж╛ржХрзЗ рж╢рзБржзрзБ ржмрж▓рзЗ ржжрж┐рждрзЗ рж╣ржмрзЗ ржХрзЛржи ржоржбрзЗрж▓ ржПржмржВ ржХрзЛржи рж╕рж┐рж░рж┐рзЯрж╛рж▓рж╛ржЗржЬрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗ, ржмрж╛ржХрж┐ ржХрж╛ржЬ `ModelViewSet` ржирж┐ржЬрзЗржЗ ржХрж░рзЗ ржирзЗржмрзЗред

ржПржЯрж┐ ржбрж┐ржлрж▓рзНржЯржнрж╛ржмрзЗ ржирж┐ржЪрзЗрж░ ржЕрзНржпрж╛ржХрж╢ржиржЧрзБрж▓рзЛ ржкрзНрж░ржжрж╛ржи ржХрж░рзЗ:
-   `.list()`: рж╕ржм ржЕржмржЬрзЗржХрзНржЯрзЗрж░ рждрж╛рж▓рж┐ржХрж╛ ржжрзЗржЦрж╛ржирзЛ (GET)ред
-   `.create()`: ржирждрзБржи ржЕржмржЬрзЗржХрзНржЯ рждрзИрж░рж┐ ржХрж░рж╛ (POST)ред
-   `.retrieve()`: ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржЕржмржЬрзЗржХрзНржЯ ржжрзЗржЦрж╛ржирзЛ (GET by ID)ред
-   `.update()`: ржПржХржЯрж┐ ржЕржмржЬрзЗржХрзНржЯржХрзЗ рж╕ржорзНржкрзВрж░рзНржг ржЖржкржбрзЗржЯ ржХрж░рж╛ (PUT)ред
-   `.partial_update()`: ржПржХржЯрж┐ ржЕржмржЬрзЗржХрзНржЯржХрзЗ ржЖржВрж╢рж┐ржХржнрж╛ржмрзЗ ржЖржкржбрзЗржЯ ржХрж░рж╛ (PATCH)ред
-   `.destroy()`: ржПржХржЯрж┐ ржЕржмржЬрзЗржХрзНржЯ ржорзБржЫрзЗ ржлрзЗрж▓рж╛ (DELETE)ред


## `ModelViewSet` ржХрзЗржи ржЕржирзНржпрж╛ржирзНржп ржнрж┐ржЙ ржерзЗржХрзЗ ржЖрж▓рж╛ржжрж╛?

`ModelViewSet`-ржХрзЗ ржнрж╛рж▓рзЛржнрж╛ржмрзЗ ржмрзБржЭрждрзЗ рж╣рж▓рзЗ ржПржХрзЗ `APIView`, `ViewSet`, ржПржмржВ `GenericViewSet`-ржПрж░ рж╕рж╛ржерзЗ рждрзБрж▓ржирж╛ ржХрж░рждрзЗ рж╣ржмрзЗред

| ржмрзИрж╢рж┐рж╖рзНржЯрзНржп (Feature)         | `APIView`                               | `ViewSet`                                     | `GenericViewSet`                                    | `ModelViewSet`                                                     |
| -------------------------- | --------------------------------------- | --------------------------------------------- | --------------------------------------------------- | ------------------------------------------------------------------ |
| **ржорзВрж▓ ржнрж┐рждрзНрждрж┐**             | Django-рж░ `View` ржХрзНрж▓рж╛рж╕                   | `APIView`                                     | `GenericAPIView`                                    | `GenericViewSet` ржУ рж╕ржХрж▓ Mixins                                     |
| **HTTP ржорзЗржержб рж╣рзНржпрж╛ржирзНржбрж▓рж┐ржВ**     | ржирж┐ржЬрзЗржХрзЗ рж▓рж┐ржЦрждрзЗ рж╣рзЯ (`get`, `post` ржЗрждрзНржпрж╛ржжрж┐) | ржЕрзНржпрж╛ржХрж╢ржи (`list`, `create`) ржУ HTTP ржорзЗржержб ржмрж╛ржЗржирзНржб ржХрж░рждрзЗ рж╣рзЯ | ржЕрзНржпрж╛ржХрж╢ржи ржмрж╛ржЗржирзНржб ржХрж░рждрзЗ рж╣рзЯ                               | **рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ** рж╕ржм CRUD ржЕрзНржпрж╛ржХрж╢ржи ржпрзБржХрзНржд ржерж╛ржХрзЗ                     |
| **ржмрзЗрж╕рж┐ржХ рж▓ржЬрж┐ржХ**              | ржирж┐ржЬрзЗржХрзЗ рж╕ржм рж▓ржЬрж┐ржХ рж▓рж┐ржЦрждрзЗ рж╣рзЯ                | ржирж┐ржЬрзЗржХрзЗ рж╕ржм рж▓ржЬрж┐ржХ рж▓рж┐ржЦрждрзЗ рж╣рзЯ                        | ржЕржмржЬрзЗржХрзНржЯ ржкрж╛ржУрзЯрж╛рж░ (`get_object`) ржмрзЗрж╕рж┐ржХ рж▓ржЬрж┐ржХ ржжрзЗрзЯ        | **рж╕ржорзНржкрзВрж░рзНржг CRUD рж▓ржЬрж┐ржХ** ржжрзЗржУрзЯрж╛ ржерж╛ржХрзЗ                                  |
| **ржХрзЛржбрзЗрж░ ржкрж░рж┐ржорж╛ржг**            | ржЕржирзЗржХ ржмрзЗрж╢рж┐                             | ржорж╛ржЭрж╛рж░рж┐                                         | ржХржо                                                  | **рж╕ржмржЪрзЗрзЯрзЗ ржХржо**                                                      |
| **ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржХрзНрж╖рзЗрждрзНрж░**        | ржЦрзБржм ржХрж╛рж╕рзНржЯржо ржмрж╛ ржЬржЯрж┐рж▓ рж▓ржЬрж┐ржХрзЗрж░ ржЬржирзНржп           | рж░рж╛ржЙржЯрж╛рж░рзЗрж░ рж╕рзБржмрж┐ржзрж╛ ржирж┐рзЯрзЗ ржХрж╛рж╕рзНржЯржо рж▓ржЬрж┐ржХ рж▓рзЗржЦрж╛рж░ ржЬржирзНржп     | Mixin ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж┐ржЫрзБ ржЕрзНржпрж╛ржХрж╢ржи ржмрж╛ржирж╛ржирзЛрж░ ржЬржирзНржп | **ржжрзНрж░рзБржд CRUD API** рждрзИрж░рж┐ ржХрж░рж╛рж░ ржЬржирзНржп (рж╕ржмржЪрзЗрзЯрзЗ рж╕рж╛ржзрж╛рж░ржг ржмрзНржпржмрж╣рж╛рж░)         |

**ржорзВрж▓ ржХржерж╛:** ржЖржкржирж┐ `APIView` ржерзЗржХрзЗ `ModelViewSet`-ржПрж░ ржжрж┐ржХрзЗ ржпрждржЗ ржпрж╛ржмрзЗржи, DRF ржЖржкржирж╛рж░ ржЬржирзНржп рждржд ржмрзЗрж╢рж┐ ржХрж╛ржЬ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржХрж░рзЗ ржжрзЗржмрзЗ, ржПржмржВ ржЖржкржирж╛рж░ ржХрзЛржб рж▓рзЗржЦрж╛рж░ ржкрж░рж┐ржорж╛ржгржУ рждржд ржХржорзЗ ржпрж╛ржмрзЗред

---

## `ModelViewSet`-ржПрж░ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржЕржВрж╢ржЧрзБрж▓рзЛ

ржПржХржЯрж┐ `ModelViewSet` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ рж╕ржоржпрж╝ ржХржпрж╝рзЗржХржЯрж┐ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржкрзНрж░ржкрж╛рж░рзНржЯрж┐ ржУ ржорзЗржержб рж╕ржорзНржкрж░рзНржХрзЗ ржЬрж╛ржирж╛ ржЖржмрж╢рзНржпржХред

#### █▒. `queryset`
ржПржЯрж┐ `ModelViewSet`-ржХрзЗ ржмрж▓рзЗ ржжрзЗрзЯ ржпрзЗ ржХрзЛржи ржбрзЗржЯрж╛рж╕рзЗржЯрзЗрж░ ржЙржкрж░ ржХрж╛ржЬ ржХрж░рждрзЗ рж╣ржмрзЗред ржПржЯрж┐ рж╕рж╛ржзрж╛рж░ржгржд `Model.objects.all()` рж╣рзЯред

**ржЙржжрж╛рж╣рж░ржг:**
```python
queryset = Book.objects.all()
```

#### █▓. `serializer_class`
ржПржЯрж┐ `ModelViewSet`-ржХрзЗ ржмрж▓рзЗ ржжрзЗрзЯ ржпрзЗ ржбрзЗржЯрж╛ржЧрзБрж▓рзЛржХрзЗ JSON ржмрж╛ ржЕржирзНржп ржлрж░ржорзНржпрж╛ржЯрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржПржмржВ ржнрзНржпрж╛рж▓рж┐ржбрзЗржЯ ржХрж░рж╛рж░ ржЬржирзНржп ржХрзЛржи рж╕рж┐рж░рж┐рзЯрж╛рж▓рж╛ржЗржЬрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗред

**ржЙржжрж╛рж╣рж░ржг:**
```python
serializer_class = BookSerializer
```

#### █│. `get_queryset()`
ржХржЦржиржУ ржХржЦржиржУ ржЖржкржирж╛ржХрзЗ ржбрж╛ржЗржирж╛ржорж┐ржХржнрж╛ржмрзЗ `queryset` ржлрж┐рж▓рзНржЯрж╛рж░ ржХрж░рждрзЗ рж╣рждрзЗ ржкрж╛рж░рзЗред ржпрзЗржоржи, рж╢рзБржзрзБржорж╛рждрзНрж░ рж▓ржЧржЗржи ржХрж░рж╛ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ рждрзИрж░рж┐ ржХрж░рж╛ ржмржЗржЧрзБрж▓рзЛ ржжрзЗржЦрж╛ржирзЛред ржПржХрзНрж╖рзЗрждрзНрж░рзЗ `queryset` ржкрзНрж░ржкрж╛рж░рзНржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржирж╛ ржХрж░рзЗ `get_queryset()` ржорзЗржержб ржУржнрж╛рж░рж░рж╛ржЗржб ржХрж░рждрзЗ рж╣рзЯред

**ржЙржжрж╛рж╣рж░ржг:** рж╢рзБржзрзБржорж╛рждрзНрж░ ржЕрзНржпрж╛ржХрзНржЯрж┐ржн ржмржЗ ржжрзЗржЦрж╛ржирзЛрж░ ржЬржирзНржпред
```python
def get_queryset(self):
    """
    ржПржЗ ржнрж┐ржЙ рж╢рзБржзрзБржорж╛рждрзНрж░ is_active=True ржерж╛ржХрж╛ ржмржЗржЧрзБрж▓рзЛ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░ржмрзЗред
    """
    return Book.objects.filter(is_active=True)
```

#### █┤. `perform_create()`
ржпржЦржи ржПржХржЯрж┐ ржирждрзБржи ржЕржмржЬрзЗржХрзНржЯ рждрзИрж░рж┐ ржХрж░рж╛ рж╣рзЯ (POST рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯрзЗрж░ ржорж╛ржзрзНржпржорзЗ), рждржЦржи ржбрзЗржЯрж╛ рж╕рзЗржн ржХрж░рж╛рж░ ржарж┐ржХ ржЖржЧрзЗ ржЖржкржирж┐ ржпржжрж┐ ржЕрждрж┐рж░рж┐ржХрзНржд ржХрзЛржирзЛ ржХрж╛ржЬ ржХрж░рждрзЗ ржЪрж╛ржи, рждрж╛рж╣рж▓рзЗ `perform_create()` ржорзЗржержб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред ржпрзЗржоржи, рж╕рзНржмрзЯржВржХрзНрж░рж┐рзЯржнрж╛ржмрзЗ рж▓рзЗржЦржХрзЗрж░ ржирж╛ржо рж╣рж┐рж╕рзЗржмрзЗ рж▓ржЧржЗржи ржХрж░рж╛ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржХрзЗ рж╕рзЗржЯ ржХрж░рж╛ред

**ржЙржжрж╛рж╣рж░ржг:**
```python
def perform_create(self, serializer):
    """
    ржирждрзБржи ржмржЗ рждрзИрж░рж┐ ржХрж░рж╛рж░ рж╕ржорзЯ рж▓рзЗржЦржХ рж╣рж┐рж╕рзЗржмрзЗ ржмрж░рзНрждржорж╛ржи ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржХрзЗ рж╕рзЗржЯ ржХрж░рж╛ рж╣ржмрзЗред
    """
    # owner ржлрж┐рж▓рзНржбрзЗ ржмрж░рзНрждржорж╛ржи ржЗржЙржЬрж╛рж░ржХрзЗ рж╕рзЗржЯ ржХрж░рзЗ ржЕржмржЬрзЗржХрзНржЯ рж╕рзЗржн ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ
    serializer.save(owner=self.request.user)
```

---

## ржПржХржЯрж┐ рж╕ржорзНржкрзВрж░рзНржг ржЙржжрж╛рж╣рж░ржг (ржмржЗрзЯрзЗрж░ API)

ржЖрж╕рзБржи, ржПржХржЯрж┐ ржмржЗрзЯрзЗрж░ рждржерзНржп ржорзНржпрж╛ржирзЗржЬ ржХрж░рж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ рж╕ржорзНржкрзВрж░рзНржг API рждрзИрж░рж┐ ржХрж░рж┐ред

#### ржзрж╛ржк рзз: ржоржбрзЗрж▓ рждрзИрж░рж┐ (`models.py`)

ржкрзНрж░ржержорзЗ `books` ржирж╛ржорзЗ ржПржХржЯрж┐ ржЕрзНржпрж╛ржк рждрзИрж░рж┐ ржХрж░рзЗ рждрж╛рж░ `models.py` ржлрж╛ржЗрж▓рзЗ ржирж┐ржЪрзЗрж░ ржоржбрзЗрж▓ржЯрж┐ рж▓рж┐ржЦрзБржиред

```python
# books/models.py
from django.db import models
from django.contrib.auth.models import User

class Book(models.Model):
    title = models.CharField(max_length=200)
    author = models.CharField(max_length=100)
    publication_date = models.DateField()
    owner = models.ForeignKey(User, related_name='books', on_delete=models.CASCADE, null=True) # ржмржЗржЯрж┐рж░ ржорж╛рж▓рж┐ржХ

    def __str__(self):
        return self.title
```

#### ржзрж╛ржк рзи: рж╕рж┐рж░рж┐ржпрж╝рж╛рж▓рж╛ржЗржЬрж╛рж░ рждрзИрж░рж┐ (`serializers.py`)

ржПржЦржи `books` ржЕрзНржпрж╛ржкрзЗрж░ ржнрзЗрждрж░рзЗ `serializers.py` ржирж╛ржорзЗ ржПржХржЯрж┐ ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзЗ ржирж┐ржЪрзЗрж░ ржХрзЛржбржЯрж┐ рж▓рж┐ржЦрзБржиред

```python
# books/serializers.py
from rest_framework import serializers
from .models import Book

class BookSerializer(serializers.ModelSerializer):
    class Meta:
        model = Book
        fields = ['id', 'title', 'author', 'publication_date', 'owner']
        read_only_fields = ['owner'] # owner ржлрж┐рж▓рзНржбржЯрж┐ рж╢рзБржзрзБржорж╛рждрзНрж░ ржкрзЬрж╛рж░ ржЬржирзНржп
```

> **ржирзЛржЯ:** `read_only_fields = ['owner']` ржжрж┐рзЯрзЗ ржЖржорж░рж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░ржЫрж┐ ржпрзЗ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА API-ржПрж░ ржорж╛ржзрзНржпржорзЗ `owner` ржлрж┐рж▓рзНржб ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛ред ржПржЯрж┐ `perform_create`-ржПрж░ ржорж╛ржзрзНржпржорзЗ рж╕рзНржмрзЯржВржХрзНрж░рж┐рзЯржнрж╛ржмрзЗ рж╕рзЗржЯ рж╣ржмрзЗред

#### ржзрж╛ржк рзй: `ModelViewSet` рждрзИрж░рж┐ (`views.py`)

ржПржЦржи `books/views.py` ржлрж╛ржЗрж▓рзЗ ржЖржорж╛ржжрзЗрж░ `ModelViewSet` рждрзИрж░рж┐ ржХрж░рж╛рж░ ржкрж╛рж▓рж╛ред

```python
# books/views.py
from rest_framework import viewsets, permissions
from .models import Book
from .serializers import BookSerializer

class BookViewSet(viewsets.ModelViewSet):
    """
    ржПржЗ ViewSet ржЯрж┐ ржмржЗрзЯрзЗрж░ ржЬржирзНржп 'list', 'create', 'retrieve',
    'update' ржПржмржВ 'destroy' ржЕрзНржпрж╛ржХрж╢ржи рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржкрзНрж░ржжрж╛ржи ржХрж░рзЗред
    """
    queryset = Book.objects.all()
    serializer_class = BookSerializer
    permission_classes = [permissions.IsAuthenticatedOrReadOnly] # рж╢рзБржзрзБржорж╛рждрзНрж░ рж▓ржЧржЗржи ржХрж░рж╛ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА рж▓рж┐ржЦрждрзЗ ржкрж╛рж░ржмрзЗ

    def perform_create(self, serializer):
        """ржирждрзБржи ржмржЗ рждрзИрж░рж┐ ржХрж░рж╛рж░ рж╕ржорзЯ рж▓рзЗржЦржХ рж╣рж┐рж╕рзЗржмрзЗ ржмрж░рзНрждржорж╛ржи ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржХрзЗ рж╕рзЗржЯ ржХрж░рж╛ рж╣ржмрзЗред"""
        serializer.save(owner=self.request.user)
```

ржжрзЗржЦрзБржи, ржХржд ржЕрж▓рзНржк ржХрзЛржб! ржПржЗ ржПржХржЯрж┐ ржХрзНрж▓рж╛рж╕ржЗ ржЖржорж╛ржжрзЗрж░ рж╕ржорзНржкрзВрж░рзНржг CRUD API-ржПрж░ ржХрж╛ржЬ ржХрж░рзЗ ржжрж┐ржЪрзНржЫрзЗред

#### ржзрж╛ржк рзк: URL ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи (`urls.py`)

рж╕ржмрж╢рзЗрж╖рзЗ, ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ ржкрзНрж░ржзрж╛ржи `urls.py` ржлрж╛ржЗрж▓рзЗ DRF-ржПрж░ `Router` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржЗ `ViewSet`-ржПрж░ ржЬржирзНржп URL рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣ржмрзЗред

```python
# myproject/urls.py
from django.contrib import admin
from django.urls import path, include
from rest_framework.routers import DefaultRouter
from books.views import BookViewSet

# ржПржХржЯрж┐ рж░рж╛ржЙржЯрж╛рж░ рждрзИрж░рж┐ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ
router = DefaultRouter()
# BookViewSet ржХрзЗ 'books' ржирж╛ржорзЗ рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ
router.register(r'books', BookViewSet, basename='book')

urlpatterns = [
    path('admin/', admin.site.urls),
    path('api/', include(router.urls)), # ржЖржорж╛ржжрзЗрж░ API URL ржЧрзБрж▓рзЛ ржПржЦрж╛ржирзЗ ржпрзБржХрзНржд рж╣рж▓рзЛ
]
```

ржмрзНржпрж╛рж╕, ржХрж╛ржЬ рж╢рзЗрж╖! ржПржЦржи `Router` рж╕рзНржмрзЯржВржХрзНрж░рж┐рзЯржнрж╛ржмрзЗ ржирж┐ржЪрзЗрж░ URL ржЧрзБрж▓рзЛ рждрзИрж░рж┐ ржХрж░рзЗ ржжрзЗржмрзЗ:
-   `GET /api/books/`: рж╕ржм ржмржЗрзЯрзЗрж░ рждрж╛рж▓рж┐ржХрж╛ред
-   `POST /api/books/`: ржирждрзБржи ржмржЗ рждрзИрж░рж┐ ржХрж░рж╛ред
-   `GET /api/books/{id}/`: ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржПржХржЯрж┐ ржмржЗ ржжрзЗржЦрж╛ред
-   `PUT /api/books/{id}/`: ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржмржЗ ржЖржкржбрзЗржЯ ржХрж░рж╛ред
-   `PATCH /api/books/{id}/`: ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржмржЗ ржЖржВрж╢рж┐ржХржнрж╛ржмрзЗ ржЖржкржбрзЗржЯ ржХрж░рж╛ред
-   `DELETE /api/books/{id}/`: ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржмржЗ ржорзБржЫрзЗ ржлрзЗрж▓рж╛ред

## рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк

`ModelViewSet` рж╣рж▓рзЛ Django REST Framework-ржПрж░ ржЕржирзНржпрждржо рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржПржХржЯрж┐ ржЯрзБрж▓ ржпрж╛ ржЖржкржирж╛ржХрзЗ ржжрзНрж░рзБржд ржПржмржВ ржХрж╛рж░рзНржпржХрж░ржнрж╛ржмрзЗ рж╕рзНржЯрзНржпрж╛ржирзНржбрж╛рж░рзНржб CRUD API рждрзИрж░рж┐ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред ржХржо ржХрзЛржб рж▓рж┐ржЦрзЗ ржкрзНрж░ржЪрж▓рж┐ржд ржирж┐рзЯржо (convention) ржЕржирзБрж╕рж░ржг ржХрж░рзЗ API рждрзИрж░рж┐рж░ ржЬржирзНржп ржПржЯрж┐ рж╕рзЗрж░рж╛ ржЙржкрж╛рзЯред 

ржПржЗ ржЧрж╛ржЗржбржЯрж┐ ржпржжрж┐ ржЖржкржирж╛рж░ ржЙржкржХрж╛рж░рзЗ ржЖрж╕рзЗ, рждрж╛рж╣рж▓рзЗ ржЙржкрж░рзЗ ржПржХржЯрж┐ тнРя╕П рж╕рзНржЯрж╛рж░ ржжрж┐рждрзЗ ржнрзБрж▓ржмрзЗржи ржирж╛!  
ржЖрж░рзЛ ржнрж╛рж▓рзЛ ржХрж░рждрзЗ ржмрж╛ ржирждрзБржи ржХрж┐ржЫрзБ ржпрзЛржЧ ржХрж░рждрзЗ ржЪрж╛ржЗрж▓рзЗ ржЕржмржжрж╛ржи (contribute) ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред  
ржЖржкржирж╛рж░ рж▓рж╛ржЗржХ ржУ ржЕржмржжрж╛ржи ржЖржорж╛ржжрзЗрж░ ржЖрж░ржУ ржнрж╛рж▓рзЛ ржХржиржЯрзЗржирзНржЯ рждрзИрж░рж┐ ржХрж░рждрзЗ ржЙрзОрж╕рж╛рж╣рж┐ржд ржХрж░ржмрзЗ! ЁЯШК